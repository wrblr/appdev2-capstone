<%#= form_with model: @group, url: groups_path, local: true do |form| %>
  <%# if @group.errors.any? %>
<!--    <div class="alert alert-danger">
      <h4><%#= pluralize(@group.errors.count, "error") %> prevented this group from being saved:</h4>
      <ul>
        <%# @group.errors.full_messages.each do |message| %>-->
<!--          <li><%#= message %></li>-->
        <%# end %>
<!--      </ul>
    </div>
  <%# end %>-->
<!--
  <div class="mb-4 text-center">
    <%#= form.label :name, "Group Name", class: "form-label fw-bold", style: "font-family: 'Cinzel Decorative', serif;" %>-->
    <%#= form.text_field :name, class: "form-control mx-auto", style: "max-width: 400px;" %>
<!--  </div>

  <div class="mb-5 text-center">
    <%#= label_tag :user_ids, "Add Members (optional)", class: "form-label fw-bold", style: "font-family: 'Cinzel Decorative', serif;" %>-->
    <%#= select_tag "group[user_ids][]",
          options_from_collection_for_select(User.where.not(id: current_user.id), :id, :email),
          multiple: true,
          class: "form-select mx-auto",
          style: "max-width: 400px;" %>
<!--  </div>

  <div class="d-flex justify-content-center gap-3">
    <%#= form.submit "Create Group", class: "btn btn-primary px-4" %>-->
    <%#= link_to "Back", memberships_path, class: "btn btn-outline-secondary px-4" %>
<!--  </div>-->
<%# end %>
<!--
<hr>-->

<% content_for :title, "New Group" %>

<div class="container mt-5">
  <h1 class="text-center fw-bold mb-4" style="font-family: 'Cinzel Decorative', serif;">New Group</h1>

  <% if @group.errors.any? %>
    <div class="alert alert-danger">
      <h4><%= pluralize(@group.errors.count, "error") %> prevented this group from being saved:</h4>
      <ul>
        <% @group.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form_with(model: @group, local: true) do |form| %>
    <div class="mb-3">
      <%= form.label :name, "Group Name", class: "form-label fw-bold", style: "font-family: 'Cinzel Decorative', serif;" %>
      <%= form.text_field :name, class: "form-control", required: true %>
    </div>

    <div class="mb-3">
      <label class="form-label fw-bold" style="font-family: 'Cinzel Decorative', serif;">Add Members by Email (optional)</label>
      <%= text_area_tag :user_emails, nil, placeholder: "one@example.com, two@example.com", class: "form-control", rows: 3 %>
      <small class="form-text text-muted">Separate emails with commas or new lines.</small>
    </div>

    <div class="d-flex justify-content-center gap-3">
      <%= form.submit "Create Group", class: "btn btn-primary px-4" %>
      <%= link_to "Back", memberships_path, class: "btn btn-outline-secondary px-4" %>
    </div>
  <% end %>
</div>

<%#= form_with(model: group) do |form| %>
  <%# if group.errors.any? %>
  <!--    <div style="color: red">
      <h2><%#= pluralize(group.errors.count, "error") %> prohibited this group from being saved:</h2>

      <ul>
        <%# group.errors.each do |error| %>-->
  <!--          <li><%#= error.full_message %></li>-->
  <%# end %>
  <!--      </ul>
    </div>
  <%# end %>-->
  <!--
  <div>
    <%#= form.label :name, style: "display: block" %>-->
  <%#= form.text_field :name %>
  <!--  </div>

  <div>
    <%#= form.label :image, style: "display: block" %>-->
  <%#= form.text_field :image %>
  <!--  </div>

  <div>
    <%#= form.label :messages_count, style: "display: block" %>-->
  <%#= form.number_field :messages_count %>
  <!--  </div>

  <div>
    <%#= form.submit %>-->
  <!--  </div>-->
  <%# end %>
