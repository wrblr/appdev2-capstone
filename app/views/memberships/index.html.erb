<% content_for :title, "Memberships" %>

<%# Flash messages %>
<% flash.each do |type, message| %>
  <% bootstrap_class = case type.to_sym
    when :notice then "success"
    when :alert then "danger"
    else type
  end %>
  <div class="alert alert-<%= bootstrap_class %> alert-dismissible fade show" role="alert">
    <%= message %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% end %>

<!--<h2 class="mt-5 mb-4 text-center fw-bold" style="font-family: 'Cinzel Decorative', serif;">
  Group Memberships
</h2>

<div class="d-flex justify-content-center mb-4">
  <%#= link_to "New Group Membership", new_membership_path, class: "btn btn-primary" %>-->
<!--</div>-->

<%# if @memberships.any? %>
<!--  <div class="list-group">-->
<%# @memberships.each do |membership| %>
  <!--      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <h5 class="mb-1 fw-bold" style="font-family: 'Cinzel Decorative', serif;">
            Group: <%#= membership.group.name %>
          </h5>
          <p class="mb-1">User: <%#= membership.user.email %></p>
        </div>
        <div>
          <%#= link_to "Show", membership_path(membership), class: "btn btn-outline-secondary btn-sm me-2" %>-->
  <%#= link_to "Edit", edit_membership_path(membership), class: "btn btn-outline-primary btn-sm me-2" %>
  <%#= link_to "Delete", membership_path(membership), method: :delete,
                data: { confirm: "Are you sure?" },
                class: "btn btn-outline-danger btn-sm" %>
  <!--        </div>
      </div>
    <%# end %>-->
  <!--  </div>-->
  <%# else %>
  <!--  <p class="text-center text-muted mt-4">No group memberships found.</p>-->
  <%# end %>

<h1 class="text-center mb-5 fw-bold" style="font-family: 'Cinzel Decorative', serif;">Your Groups</h1>

<% if @memberships.any? %>
  <div class="d-flex flex-wrap justify-content-center gap-4">
    <% @memberships.each do |membership| %>
      <% group = membership.group %>
      <%= link_to group_path(group), class: "text-decoration-none text-center" do %>
        <div class="rounded-circle d-flex align-items-center justify-content-center bg-primary text-white shadow"
        style="width: 120px; height: 120px; font-size: 1.25rem; font-weight: bold; font-family: 'Cinzel Decorative', serif;">
          <%= group.name.first.upcase %>
        </div>
        <p class="mt-2 fw-bold" style="font-family: 'Cinzel Decorative', serif;"><%= group.name %></p>
      <% end %>
    <% end %>
  </div>
<% else %>
  <p class="text-center text-muted mt-4">No group memberships found.</p>
<% end %>

<div class="text-center mt-5">
  <%= link_to "Join a New Group", new_membership_path, class: "btn btn-primary px-4 py-2" %>
</div>
